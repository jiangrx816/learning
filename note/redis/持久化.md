




---

Redis 支持 RDB 和 AOF 两种持久化机制, 持久化功能有效的避免了因进程退出造成的数据丢失问题, 当下次重启时利用之前持久化文件即可实现数据恢复

# 一、RDB
## 1.1 RDB 介绍
RDB 持久化是在**指定的时间间隔内**, 将内存中的数据集快照写入磁盘(Snapshot 快照), 恢复时是将快照文件直接读到内存中

Redis 会单独创建(fork)一个子进程来进行持久化, 会将数据写入到一个临时文件中, 待持久化过程都结束了, 再用这个临时文件替换上次持久化好的文件;

整个过程中, 主进程是不会进行任何 IO 操作的, 这就确保了极高的性能;

如果需要警醒大规模数据的恢复, 且对于数据恢复的完整性不是很敏感, 那 RDB 方式要比 AOF 方式更加高效, RDB 的缺点是最后一次持久化后的数据可能丢失

# 二、AOF



# 三、总结
